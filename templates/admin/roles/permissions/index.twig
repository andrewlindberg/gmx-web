{% extends 'admin/admin.twig' %}

{% macro element_permission(form, name) %}
    {% set element = form.get(name) %}
    <div>
        <div class="uk-card uk-card-secondary">
            <div class="inputGroup">
                <input
                        type="checkbox"
                        id="{{ element.getId() }}"
                        class="custom-control-input"
                        name="{{ element.getFormName() }}[{{ element.getName() }}]"
                        value="1"
                        {% if element.getValue() %}checked{% endif %}
                />
                <label class="custom-control-label" for="{{ element.getId() }}">{{ element.getTitle() }}</label>
            </div>
        </div>
    </div>
{% endmacro %}

{% import _self as macros %}

{% block content %}
    <div class="uk-card uk-card-default uk-card-body uk-width-1-1@m">
        <form action="{{ form.getAction() }}" method="post">
            {{ csrf_token() }}
            {% for items in list %}
                <div class="uk-child-width-1-5@m" uk-grid>
                    {% for key in items %}
                        {{ macros.element_permission(form, key) }}
                    {% endfor %}
                </div>
            {% endfor %}
            <div class="form-group">
                {% if create %}
                    <input type="submit" class="uk-button uk-button-primary" value="{{ trans('buttons', 'create') }}">
                {% else %}
                    <input type="submit" class="uk-button uk-button-primary" value="{{ trans('buttons', 'update') }}">
                {% endif %}
                <a href="{{ path_for('admin_roles_list') }}" class="uk-button uk-button-secondary">{{ trans('buttons', 'cancel') }}</a>
            </div>
        </form>
    </div>
{% endblock %}
