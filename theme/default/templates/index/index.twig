{% extends 'base.twig' %}

{% block style %}
	<link rel="stylesheet" href="{{ base_url() }}/assets/css/tables.css" />
{% endblock %}

{% block content %}
<div uk-grid>
<div class="uk-width-1-3@m uk-child-width-1-1@m uk-grid-medium" uk-grid="masonry: true">
	<div>
		<div uk-slider="center: true; autoplay: true">
			<div class="uk-position-relative uk-visible-toggle uk-light" tabindex="-1">
				<ul class="uk-slider-items uk-child-width-1-1@s uk-grid">
                    {% for server in servers %}
						<li>
							<div class="uk-card uk-card-default">
								<div class="uk-card-header">
									<h3 class="uk-card-title">{{ server.name }}</h3>
								</div>
								<div class="uk-padding-small uk-text-muted" uk-grid>
									<div class="uk-width-1-3"><i class="fas fa-signal uk-margin-small-right"></i>{{ players[server.id] | length }}/{{ server.max_players }}</div>
									<div class="uk-width-expand uk-text-right"><i class="fas fa-power-off uk-margin-small-right"></i><a href="steam://connect/{{ server.ip }}:{{ server.port }}">{{ server.ip }}:{{ server.port }}</a></div>
								</div>
								<div>
									<div class="uk-inline">
										{% if server.online and server.map.exists() %}
											<img
												src="{{ base_url() }}/assets/images/maps/{{ server.map.name }}.jpg"
												alt="{{ server.map.name }}"
												onerror="this.onerror=null;this.src='{{ base_url() }}/assets/images/blank600x400.png';"
											>
										{% else %}
											<img src="{{ base_url() }}/assets/images/maps/cs_italy.jpg" alt="">
										{% endif %}

										<div class="uk-card-badge uk-label-dark">
											{% if server.online %}
												{{ server.map.exists() ? server.map.name : '-' }}
											{% else %}
												OFFLINE
											{% endif %}
										</div>
									</div>
								</div>
								<div class="uk-card-body">
									<table class="uk-table uk-table-divider">
										<tr>
											<th>Никнейм</th>
											<th><i class="fas fa-male"></i></th>
											<th><i class="fas fa-skull-crossbones"></i></th>
										</tr>
										<tr>
											<td>Gamer 1</td>
											<td>1</td>
											<td>2</td>
										</tr>
										<tr>
											<td>Gamer 2</td>
											<td>1</td>
											<td>2</td>
										</tr>
										<tr>
											<td>Gamer 3</td>
											<td>1</td>
											<td>2</td>
										</tr>
									</table>
								</div>
							</div>
						</li>
                    {% endfor %}
				</ul>
				<a class="uk-position-center-left uk-position-small" href="#" uk-slidenav-previous uk-slider-item="previous"></a>
				<a class="uk-position-center-right uk-position-small" href="#" uk-slidenav-next uk-slider-item="next"></a>
			</div>
			<ul class="uk-slider-nav uk-dotnav uk-flex-center uk-margin"></ul>
		</div>
	</div>
</div>
<div class="uk-width-expand@m uk-child-width-1-2@m uk-grid-medium" uk-grid="masonry: true">
	<div>
		<div class="uk-card uk-card-default">
			<div class="uk-card-header">
				<h3 class="uk-card-title">Купить привилегии</h3>
			</div>
			<div class="uk-card-body">
				<div class="uk-margin-small uk-grid-small uk-child-width-1-2 uk-grid" uk-grid="">
					<div class="uk-first-column">
						<select class="uk-select" id="form-s-select">
							<option>Server 1</option>
							<option>Server 2</option>
							<option>Server 3</option>
						</select>
					</div>
					<div>
						<select class="uk-select" id="form-s-select">
							<option>VIP</option>
							<option>Immunity</option>
						</select>
					</div>
				</div>
				<div class="uk-margin-small">
					<button class="uk-button uk-button-secondary uk-width-1-1 uk-margin-small-bottom">Купить</button>
				</div>
			</div>
		</div>
	</div>
	<div>
		<div class="uk-card uk-card-default">
			<div class="uk-card-header">
				<h3 class="uk-card-title"><i class="fas fa-history"></i> Последние наказания</h3>
			</div>
			<div class="uk-card-body">
				<div f-table f-divider>
					<ul th>
						<li class="uk-width-1-2@m uk-width-1-1@s uk-visible@s">Nick</li>
						<li class="uk-width-1-2@m uk-width-1-1@s uk-visible@s">Reason</li>
					</ul>
					<ul>
						<li class="uk-width-1-2@m uk-width-1-1@s" s-title="Nick">fdfsf</li>
						<li class="uk-width-1-2@m uk-width-1-1@s" s-title="Reason">sdfsd</li>
					</ul>
					<ul>
						<li class="uk-width-1-2@m uk-width-1-1@s" s-title="Nick">fdfsf</li>
						<li class="uk-width-1-2@m uk-width-1-1@s" s-title="Reason">sdfsd</li>
					</ul>
					<ul>
						<li class="uk-width-1-2@m uk-width-1-1@s" s-title="Nick">fdfsf</li>
						<li class="uk-width-1-2@m uk-width-1-1@s" s-title="Reason">sdfsd</li>
					</ul>
					<ul>
						<li class="uk-width-1-2@m uk-width-1-1@s" s-title="Nick">fdfsf</li>
						<li class="uk-width-1-2@m uk-width-1-1@s" s-title="Reason">sdfsd</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<div>
		<div class="uk-card uk-card-default">
			<div class="uk-card-header">
				<h3 class="uk-card-title">Онлайн</h3>
			</div>
			<div>
				<canvas id="canvas" width="400" height="400"></canvas>
				<script>
                    var config = {
                        type: 'line',
                        data: {
                            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
                            datasets: [{
                                borderColor: 'rgb(111, 169, 199)',
                                data: [
                                    0,
                                    10,
                                    15,
                                    20,
                                    10,
									15,
									32
                                ],
                                fill: false,
                            }]
                        },
                        options: {
                            responsive: true,
							legend: {
                                display: false
							},
                            tooltips: {
                                mode: 'index',
                                intersect: false,
                            },
                            hover: {
                                mode: 'nearest',
                                intersect: true
                            },
                            scales: {
                                xAxes: [{
                                    display: true,
                                    scaleLabel: {
                                        display: false,
                                        labelString: 'Month'
                                    }
                                }],
                                yAxes: [{
                                    display: true,
                                    scaleLabel: {
                                        display: false,
                                        labelString: 'Value'
                                    }
                                }]
                            }
                        }
                    };

                    window.onload = function() {
                        var ctx = document.getElementById('canvas').getContext('2d');
                        window.myLine = new Chart(ctx, config);
                    };
				</script>
			</div>
		</div>
	</div>
	<div>
		<div class="uk-card uk-card-default">
			<div class="uk-card-header">
				<h3 class="uk-card-title">Купить привилегии</h3>
			</div>
			<div class="uk-card-body">
				<div class="uk-margin-small uk-grid-small uk-child-width-1-2 uk-grid" uk-grid="">
					<div class="uk-first-column">
						<select class="uk-select" id="form-s-select">
							<option>Server 1</option>
							<option>Server 2</option>
							<option>Server 3</option>
						</select>
					</div>
					<div>
						<select class="uk-select" id="form-s-select">
							<option>VIP</option>
							<option>Immunity</option>
						</select>
					</div>
				</div>
				<div class="uk-margin-small">
					<button class="uk-button uk-button-secondary uk-width-1-1 uk-margin-small-bottom">Купить</button>
				</div>
			</div>
		</div>
	</div>
	<div>
		<div class="uk-card uk-card-default">
			<div class="uk-card-header">
				<h3 class="uk-card-title">Купить привилегии</h3>
			</div>
			<div class="uk-card-body">
				<div class="uk-margin-small uk-grid-small uk-child-width-1-2 uk-grid" uk-grid="">
					<div class="uk-first-column">
						<select class="uk-select" id="form-s-select">
							<option>Server 1</option>
							<option>Server 2</option>
							<option>Server 3</option>
						</select>
					</div>
					<div>
						<select class="uk-select" id="form-s-select">
							<option>VIP</option>
							<option>Immunity</option>
						</select>
					</div>
				</div>
				<div class="uk-margin-small">
					<button class="uk-button uk-button-secondary uk-width-1-1 uk-margin-small-bottom">Купить</button>
				</div>
			</div>
		</div>
	</div>
</div>
{% if is_guest() %}
</div>
</div>
	<div class="uk-section uk-section-dark uk-margin-large-bottom">
		<div class="uk-container">
			<h3 class="uk-heading-line uk-text-center"><span>Мало информации?</span></h3>
			<div class="uk-flex uk-flex-middle uk-flex-center uk-child-width-1-4">
				<div class="uk-text-center">
					Войдите, чтобы узнать больше информации<br>
					<button class="uk-button uk-button-primary uk-button-small uk-margin">Войти</button><br>
					Или <a href="">присоединяйтесь</a> к GameX бесплатно
				</div>
			</div>
			<hr>
		</div>
	</div>
<div class="uk-container">
{% endif %}
{% endblock %}
